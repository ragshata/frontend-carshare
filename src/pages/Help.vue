<template>
  <div class="help-page">
    <div class="background-img"></div>

    <div class="help-content">
      <h2 class="title">–ü–æ–º–æ—â—å</h2>

      <div class="tabs">
        <button
          v-for="tab in tabs"
          :key="tab"
          :class="['tab', { active: currentTab === tab }]"
          @click="currentTab = tab"
        >
          {{ tab }}
        </button>
      </div>

      <div class="tab-content">
        <div v-if="currentTab === '–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã'">
          <h3>‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)</h3>
          <ul>
            <li>
              <strong>–ö–∞–∫ –Ω–∞–π—Ç–∏ –ø–æ–µ–∑–¥–∫—É?</strong><br />
              –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É ¬´–ü–æ–∏—Å–∫¬ª, –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç –∏ –¥–∞—Ç—É, –Ω–∞–∂–º–∏—Ç–µ ¬´–ù–∞–π—Ç–∏ –ø–æ–µ–∑–¥–∫—É¬ª.
            </li>
            <li>
              <strong>–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É?</strong><br />
              –í —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏¬ª –∏–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ ¬´–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É¬ª –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.
            </li>
            <li>
              <strong>–ö–∞–∫ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ?</strong><br />
              –ù–∞–π–¥–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–µ–∑–¥–∫—É –≤ –ø–æ–∏—Å–∫–µ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å¬ª.
            </li>
            <li>
              <strong>–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —Å–ø–æ—Ä–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?</strong><br />
              –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤—è–∑–∞—Ç—å—Å—è —Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º –ø–æ–µ–∑–¥–∫–∏ —á–µ—Ä–µ–∑ Telegram –∏–ª–∏ –ø–æ –Ω–æ–º–µ—Ä—É. –ï—Å–ª–∏ –Ω–µ —É–¥–∞—ë—Ç—Å—è ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
            </li>
          </ul>
        </div>

        <div v-else>
          <h3>üìÑ –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
          <p>
            SafarBar ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤. <br />
            <b>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ–µ–∑–¥–∫—É –∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –Ω–µ—Å—É—Ç —Ç–æ–ª—å–∫–æ —Å–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.</b>
          </p>
          <ul>
            <li>‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –ª–æ–∂–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –∏–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</li>
            <li>‚úÖ –ë—É–¥—å—Ç–µ –ø—É–Ω–∫—Ç—É–∞–ª—å–Ω—ã, –≤–µ–∂–ª–∏–≤—ã –∏ —á–µ—Å—Ç–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.</li>
            <li>üö´ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.</li>
            <li>‚ö†Ô∏è –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–ø–æ—Ä–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –º–∏—Ä–Ω–æ.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useSmartBack } from "@/utils/navigation";
import { ref, onMounted, onBeforeUnmount } from "vue";
import { useRouter } from 'vue-router';

const router = useRouter();
const tabs = ['–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã', '–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è'];
const currentTab = ref(tabs[0]);

onMounted(() => {
  const tg = (window as any).Telegram?.WebApp;
  if (tg?.BackButton) {
    tg.BackButton.show();
    tg.BackButton.onClick(() => {
      useSmartBack(router); // –ø–µ—Ä–µ–¥–∞–π —Å–≤–æ–π router
    });
  }
});
onBeforeUnmount(() => {
  const tg = (window as any).Telegram?.WebApp;
  tg?.BackButton?.hide();
  tg?.BackButton?.offClick?.();
});
</script>

<style scoped>
.help-page {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: transparent;
}

.background-img {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  background: url('@/assets/secondary.webp') center center / cover no-repeat;
  z-index: 0;
  pointer-events: none;
  user-select: none;
  animation: bg-fade-in 1s ease-in-out;
}

.help-content {
  position: relative;
  z-index: 2;
  max-width: 360px;
  margin: 0 auto;
  margin-top: 32px;
  background: rgba(255, 255, 255, 0.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  padding: 24px 20px;
  border-radius: 18px;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
  overflow-y: auto;
  max-height: calc(100vh - 64px);
}

.title {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 16px;
  color: var(--color-text-primary);
  text-align: center;
}

.tabs {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  gap: 12px;
  margin-bottom: 20px;
  padding-bottom: 4px;
}

.tab {
  padding: 10px 16px;
  border: 1px solid var(--color-primary);
  border-radius: 8px;
  background: transparent;
  color: var(--color-primary);
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.tab.active {
  background: var(--color-primary);
  color: white;
}

.tab-content {
  font-size: 14px;
  color: var(--color-text-primary);
  line-height: 1.6;
}

ul {
  padding-left: 16px;
  margin-top: 8px;
}

li {
  margin-bottom: 10px;
}

@keyframes bg-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

</style>
